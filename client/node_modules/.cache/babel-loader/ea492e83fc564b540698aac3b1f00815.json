{"ast":null,"code":"import _objectSpread from \"/Users/apple/Desktop/React/Groove/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/Users/apple/Desktop/React/Groove/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/apple/Desktop/React/Groove/client/src/components/Shop/index.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport PageTop from '../shared/pageTop';\nimport CollapseCheckbox from '../shared/collapseCheckbox';\nimport CollapseRadio from '../shared/collapseRadio';\nimport LoadMoreCards from './loadMoreCards';\nimport { strings, price } from '../../utils/fixedCategories';\nimport { connect } from 'react-redux';\nimport { getBrands, getWoods, getFilteredProducts, clearProductDetail } from '../../store/actions/productActions';\nimport FontAwesomeIcon from '@fortawesome/react-fontawesome';\nimport faBars from '@fortawesome/fontawesome-free-solid/faBars';\nimport faTh from '@fortawesome/fontawesome-free-solid/faTh';\n\nconst Shop = props => {\n  const _useState = useState({\n    grid: '',\n    limit: 6,\n    skip: 0,\n    filters: {\n      brand: [],\n      strings: [],\n      woods: [],\n      price: []\n    }\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        state = _useState2[0],\n        setState = _useState2[1];\n\n  const limit = state.limit,\n        skip = state.skip,\n        filters = state.filters,\n        grid = state.grid;\n  const product = props.product;\n  useEffect(() => {\n    props.dispatch(clearProductDetail());\n    props.dispatch(getBrands());\n    props.dispatch(getWoods());\n    props.dispatch(getFilteredProducts(limit, skip, filters));\n  }, []);\n\n  const handlePrice = value => {\n    let array;\n\n    for (let key in price) {\n      if (price[key]._id === parseInt(value)) {\n        array = price[key].array;\n      }\n    }\n\n    return array;\n  };\n\n  const handleFilters = (filters, cat) => {\n    const newFilters = _objectSpread({}, state.filters);\n\n    newFilters[cat] = filters;\n\n    if (cat === 'price') {\n      let priceValues = handlePrice(filters);\n      newFilters[cat] = priceValues;\n    }\n\n    showFilteredResults(newFilters);\n    setState(_objectSpread({}, state, {\n      filters: newFilters\n    }));\n  };\n\n  const showFilteredResults = fltrs => {\n    props.dispatch(getFilteredProducts(limit, 0, fltrs));\n  };\n\n  const handleLoadMore = () => {\n    let skipCards = skip + limit;\n    props.dispatch(getFilteredProducts(limit, skipCards, filters, product.items)).then(() => {\n      setState(_objectSpread({}, state, {\n        skip: skipCards\n      }));\n    });\n  };\n\n  const handleGridClick = () => {\n    setState(_objectSpread({}, state, {\n      grid: !grid ? 'grid_bars' : ''\n    }));\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, React.createElement(PageTop, {\n    title: \"Browse Products\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"shop_wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, React.createElement(CollapseCheckbox, {\n    initState: true,\n    title: \"Brands\",\n    list: product.brands,\n    handleFilters: filters => handleFilters(filters, 'brand'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }), React.createElement(CollapseCheckbox, {\n    initState: false,\n    title: \"Strings\",\n    list: strings,\n    handleFilters: filters => handleFilters(filters, 'strings'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }), React.createElement(CollapseCheckbox, {\n    initState: false,\n    title: \"Woods\",\n    list: product.woods,\n    handleFilters: filters => handleFilters(filters, 'wood'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }), React.createElement(CollapseRadio, {\n    initState: true,\n    title: \"Price\",\n    list: price,\n    handleFilters: filters => handleFilters(filters, 'price'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"shop_options\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"shop_grids clear\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"grid_btn \".concat(grid ? '' : 'active'),\n    onClick: () => handleGridClick(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }, React.createElement(FontAwesomeIcon, {\n    className: \"fai\",\n    icon: faTh,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"grid_btn \".concat(!grid ? '' : 'active'),\n    onClick: () => handleGridClick(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132\n    },\n    __self: this\n  }, React.createElement(FontAwesomeIcon, {\n    className: \"fai\",\n    icon: faBars,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136\n    },\n    __self: this\n  })))), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140\n    },\n    __self: this\n  }, React.createElement(LoadMoreCards, {\n    grid: grid,\n    limit: limit,\n    size: product.size,\n    products: product.items,\n    loadMore: () => handleLoadMore(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141\n    },\n    __self: this\n  }))))));\n};\n\nconst mapStateToProps = state => {\n  return {\n    product: state.product\n  };\n};\n\nexport default connect(mapStateToProps)(Shop);","map":{"version":3,"sources":["/Users/apple/Desktop/React/Groove/client/src/components/Shop/index.jsx"],"names":["React","useState","useEffect","PageTop","CollapseCheckbox","CollapseRadio","LoadMoreCards","strings","price","connect","getBrands","getWoods","getFilteredProducts","clearProductDetail","FontAwesomeIcon","faBars","faTh","Shop","props","grid","limit","skip","filters","brand","woods","state","setState","product","dispatch","handlePrice","value","array","key","_id","parseInt","handleFilters","cat","newFilters","priceValues","showFilteredResults","fltrs","handleLoadMore","skipCards","items","then","handleGridClick","brands","size","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport PageTop from '../shared/pageTop';\nimport CollapseCheckbox from '../shared/collapseCheckbox';\nimport CollapseRadio from '../shared/collapseRadio';\nimport LoadMoreCards from './loadMoreCards';\nimport { strings, price } from '../../utils/fixedCategories';\nimport { connect } from 'react-redux';\nimport {\n  getBrands,\n  getWoods,\n  getFilteredProducts,\n  clearProductDetail\n} from '../../store/actions/productActions';\nimport FontAwesomeIcon from '@fortawesome/react-fontawesome'\nimport faBars from '@fortawesome/fontawesome-free-solid/faBars'\nimport faTh from '@fortawesome/fontawesome-free-solid/faTh'\n\nconst Shop = props => {\n  const [state, setState] = useState({\n    grid: '',\n    limit: 6,\n    skip: 0,\n    filters: {\n      brand: [],\n      strings: [],\n      woods: [],\n      price: []\n    }\n  });\n\n  const { limit, skip, filters, grid } = state;\n  const { product } = props;\n\n  useEffect(() => {\n    props.dispatch(clearProductDetail());\n    props.dispatch(getBrands());\n    props.dispatch(getWoods());\n    props.dispatch(getFilteredProducts(limit, skip, filters));\n  }, []);\n\n  const handlePrice = value => {\n    let array;\n\n    for (let key in price) {\n      if (price[key]._id === parseInt(value)) {\n        array = price[key].array;\n      }\n    }\n    return array;\n  };\n\n  const handleFilters = (filters, cat) => {\n    const newFilters = { ...state.filters };\n    newFilters[cat] = filters;\n\n    if (cat === 'price') {\n      let priceValues = handlePrice(filters);\n      newFilters[cat] = priceValues;\n    }\n\n    showFilteredResults(newFilters);\n    setState({\n      ...state,\n      filters: newFilters\n    });\n  };\n\n  const showFilteredResults = fltrs => {\n    props.dispatch(getFilteredProducts(limit, 0, fltrs));\n  };\n\n  const handleLoadMore = () => {\n    let skipCards = skip + limit;\n\n    props.dispatch(\n      getFilteredProducts(limit, skipCards, filters, product.items)\n    ).then(()=> {\n      setState({\n        ...state,\n        skip: skipCards\n      })\n    });\n  };\n\n  const handleGridClick = () => {\n    setState({\n      ...state,\n      grid: !grid ? 'grid_bars' : ''\n    })\n  }\n\n  return (\n    <div>\n      <PageTop title=\"Browse Products\" />\n      <div className=\"container\">\n        <div className=\"shop_wrapper\">\n          <div className=\"left\">\n            <CollapseCheckbox\n              initState={true}\n              title=\"Brands\"\n              list={product.brands}\n              handleFilters={filters => handleFilters(filters, 'brand')}\n            />\n            <CollapseCheckbox\n              initState={false}\n              title=\"Strings\"\n              list={strings}\n              handleFilters={filters => handleFilters(filters, 'strings')}\n            />\n            <CollapseCheckbox\n              initState={false}\n              title=\"Woods\"\n              list={product.woods}\n              handleFilters={filters => handleFilters(filters, 'wood')}\n            />\n            <CollapseRadio\n              initState={true}\n              title=\"Price\"\n              list={price}\n              handleFilters={filters => handleFilters(filters, 'price')}\n            />\n          </div>\n          <div className=\"right\">\n            <div className=\"shop_options\">\n              <div className=\"shop_grids clear\">\n                <div\n                  className={`grid_btn ${grid ? '' : 'active' }`}\n                  onClick={() => handleGridClick()}\n                >\n                  <FontAwesomeIcon className=\"fai\" icon={faTh}/>\n                </div>\n                <div\n                  className={`grid_btn ${!grid ? '' : 'active' }`}\n                  onClick={() => handleGridClick()}\n                >\n                  <FontAwesomeIcon className=\"fai\" icon={faBars}/>\n                </div>\n              </div>\n            </div>\n            <div>\n              <LoadMoreCards\n                grid={grid}\n                limit={limit}\n                size={product.size}\n                products={product.items}\n                loadMore={() => handleLoadMore()}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst mapStateToProps = state => {\n  return {\n    product: state.product\n  };\n};\n\nexport default connect(mapStateToProps)(Shop);\n"]},"metadata":{},"sourceType":"module"}