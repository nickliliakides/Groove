{"ast":null,"code":"import axios from 'axios';\nimport { GET_PRODUCTS_BY_SELL, GET_PRODUCTS_BY_ARRIVAL, GET_FILTERED_PRODUCTS, GET_BRANDS, ADD_BRAND, REMOVE_BRAND, GET_WOODS, ADD_WOOD, REMOVE_WOOD, ADD_PRODUCT, CLEAR_PRODUCT, ADD_IMAGE, CLEAR_IMAGE, REMOVE_IMAGE, GET_PRODUCT_BY_ID, CLEAR_PRODUCT_DETAIL, ADD_TO_BASKET } from './types.js';\nimport { PRODUCT_SERVER } from '../../utils/misc';\nexport const getProductsByArrival = () => {\n  const data = axios.get(\"\".concat(PRODUCT_SERVER, \"/items?sortBy=createdAt&order=desc&limit=4\")).then(res => res.data);\n  return {\n    type: GET_PRODUCTS_BY_ARRIVAL,\n    payload: data\n  };\n};\nexport const getProductsBySell = () => {\n  const data = axios.get(\"\".concat(PRODUCT_SERVER, \"/items?sortBy=sold&order=desc&limit=4\")).then(res => res.data);\n  return {\n    type: GET_PRODUCTS_BY_SELL,\n    payload: data\n  };\n};\nexport const getFilteredProducts = (limit, skip, filters = [], prevState = []) => {\n  const body = {\n    limit,\n    skip,\n    filters\n  };\n  const data = axios.post(\"\".concat(PRODUCT_SERVER, \"/shop\"), body).then(res => {\n    let newState = [...prevState, ...res.data.products];\n    return {\n      size: res.data.size,\n      products: newState\n    };\n  });\n  return {\n    type: GET_FILTERED_PRODUCTS,\n    payload: data\n  };\n};\nexport const getBrands = () => {\n  const data = axios.get(\"\".concat(PRODUCT_SERVER, \"/brands\")).then(res => res.data);\n  return {\n    type: GET_BRANDS,\n    payload: data\n  };\n};\nexport const addBrand = (dataToSubmit, existingBrands) => {\n  const data = axios.post(\"\".concat(PRODUCT_SERVER, \"/brand\"), dataToSubmit).then(res => {\n    let brands = [...existingBrands, res.data.brand];\n    return {\n      success: res.data.success,\n      brands\n    };\n  });\n  return {\n    type: ADD_BRAND,\n    payload: data\n  };\n};\nexport const removeBrand = brandId => {\n  const data = axios.delete(\"\".concat(PRODUCT_SERVER, \"/brand?id=\").concat(brandId)).then(res => res.data);\n  return {\n    type: REMOVE_BRAND,\n    payload: data\n  };\n};\nexport const getWoods = () => {\n  const data = axios.get(\"\".concat(PRODUCT_SERVER, \"/woods\")).then(res => res.data);\n  return {\n    type: GET_WOODS,\n    payload: data\n  };\n};\nexport const addWood = (dataToSubmit, existingWoods) => {\n  const data = axios.post(\"\".concat(PRODUCT_SERVER, \"/wood\"), dataToSubmit).then(res => {\n    let woods = [...existingWoods, res.data.wood];\n    return {\n      success: res.data.success,\n      woods\n    };\n  });\n  return {\n    type: ADD_WOOD,\n    payload: data\n  };\n};\nexport const removeWood = woodId => {\n  const data = axios.delete(\"\".concat(PRODUCT_SERVER, \"/wood?id=\").concat(woodId)).then(res => res.data);\n  return {\n    type: REMOVE_WOOD,\n    payload: data\n  };\n};\nexport const addProduct = dataToSubmit => {\n  const data = axios.post(\"\".concat(PRODUCT_SERVER, \"/item\"), dataToSubmit).then(res => res.data);\n  return {\n    type: ADD_PRODUCT,\n    payload: data\n  };\n};\nexport const clearProduct = () => {\n  return {\n    type: CLEAR_PRODUCT\n  };\n};\nexport const addImage = file => {\n  let formData = new FormData();\n  const config = {\n    header: {\n      'content-type': 'multipart/form-data'\n    }\n  };\n  formData.append('file', file);\n  const data = axios.post(\"\".concat(PRODUCT_SERVER, \"/upload_image\"), formData, config).then(res => res.data);\n  return {\n    type: ADD_IMAGE,\n    payload: data\n  };\n};\nexport const clearImage = () => {\n  return {\n    type: CLEAR_IMAGE\n  };\n};\nexport const removeImage = imgId => {\n  const data = axios.get(\"\".concat(PRODUCT_SERVER, \"/remove_image?public_id=\").concat(imgId)).then(res => res.data);\n  return {\n    type: REMOVE_IMAGE,\n    payload: data\n  };\n};\nexport const getProductById = id => {\n  const data = axios.get(\"\".concat(PRODUCT_SERVER, \"/items_by_id?id=\").concat(id, \"&type=single\")).then(res => res.data[0]);\n  return {\n    type: GET_PRODUCT_BY_ID,\n    payload: data\n  };\n};\nexport const clearProductDetail = () => {\n  return {\n    type: CLEAR_PRODUCT_DETAIL\n  };\n};","map":{"version":3,"sources":["/Users/apple/Desktop/React/Groove/client/src/store/actions/productActions.js"],"names":["axios","GET_PRODUCTS_BY_SELL","GET_PRODUCTS_BY_ARRIVAL","GET_FILTERED_PRODUCTS","GET_BRANDS","ADD_BRAND","REMOVE_BRAND","GET_WOODS","ADD_WOOD","REMOVE_WOOD","ADD_PRODUCT","CLEAR_PRODUCT","ADD_IMAGE","CLEAR_IMAGE","REMOVE_IMAGE","GET_PRODUCT_BY_ID","CLEAR_PRODUCT_DETAIL","ADD_TO_BASKET","PRODUCT_SERVER","getProductsByArrival","data","get","then","res","type","payload","getProductsBySell","getFilteredProducts","limit","skip","filters","prevState","body","post","newState","products","size","getBrands","addBrand","dataToSubmit","existingBrands","brands","brand","success","removeBrand","brandId","delete","getWoods","addWood","existingWoods","woods","wood","removeWood","woodId","addProduct","clearProduct","addImage","file","formData","FormData","config","header","append","clearImage","removeImage","imgId","getProductById","id","clearProductDetail"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport {\n  GET_PRODUCTS_BY_SELL,\n  GET_PRODUCTS_BY_ARRIVAL,\n  GET_FILTERED_PRODUCTS,\n  GET_BRANDS,\n  ADD_BRAND,\n  REMOVE_BRAND,\n  GET_WOODS,\n  ADD_WOOD,\n  REMOVE_WOOD,\n  ADD_PRODUCT,\n  CLEAR_PRODUCT,\n  ADD_IMAGE,\n  CLEAR_IMAGE,\n  REMOVE_IMAGE,\n  GET_PRODUCT_BY_ID,\n  CLEAR_PRODUCT_DETAIL,\n  ADD_TO_BASKET\n } from './types.js'\n import { PRODUCT_SERVER } from '../../utils/misc';\n\n export const getProductsByArrival = () => {\n  const data = axios.get(`${PRODUCT_SERVER}/items?sortBy=createdAt&order=desc&limit=4`).then(res => res.data);\n\n  return {\n    type: GET_PRODUCTS_BY_ARRIVAL,\n    payload: data\n  }\n }\n\n export const getProductsBySell = () => {\n  const data = axios.get(`${PRODUCT_SERVER}/items?sortBy=sold&order=desc&limit=4`).then(res => res.data);\n\n  return {\n    type: GET_PRODUCTS_BY_SELL,\n    payload: data\n  }\n}\n\nexport const getFilteredProducts = (limit, skip, filters = [], prevState = []) => {\n  const body = { limit, skip, filters }\n\n  const data = axios.post(`${PRODUCT_SERVER}/shop`, body).then(res => {\n    let newState =[\n      ...prevState,\n      ...res.data.products\n    ]\n\n    return {\n      size: res.data.size,\n      products: newState\n    }\n  });\n\n  return {\n    type: GET_FILTERED_PRODUCTS,\n    payload: data\n  }\n}\n\nexport const getBrands = () => {\n  const data = axios.get(`${PRODUCT_SERVER}/brands`).then(res => res.data);\n\n  return {\n    type: GET_BRANDS,\n    payload: data\n  }\n}\n\nexport const addBrand = (dataToSubmit, existingBrands) => {\n  const data = axios.post(`${PRODUCT_SERVER}/brand`, dataToSubmit).then(res => {\n    let brands = [...existingBrands, res.data.brand];\n    return {\n      success: res.data.success,\n      brands\n    }\n  });\n\n  return {\n    type: ADD_BRAND,\n    payload: data\n  }\n}\n\nexport const removeBrand = brandId => {\n\n  const data = axios.delete(`${PRODUCT_SERVER}/brand?id=${brandId}`).then(res => res.data);\n\n  return {\n    type: REMOVE_BRAND,\n    payload: data\n  }\n}\n\nexport const getWoods = () => {\n  const data = axios.get(`${PRODUCT_SERVER}/woods`).then(res => res.data);\n\n  return {\n    type: GET_WOODS,\n    payload: data\n  }\n}\n\nexport const addWood = (dataToSubmit, existingWoods) => {\n  const data = axios.post(`${PRODUCT_SERVER}/wood`, dataToSubmit).then(res => {\n    let woods = [...existingWoods, res.data.wood];\n    return {\n      success: res.data.success,\n      woods\n    }\n  });\n\n  return {\n    type: ADD_WOOD,\n    payload: data\n  }\n}\n\nexport const removeWood = woodId => {\n\n  const data = axios.delete(`${PRODUCT_SERVER}/wood?id=${woodId}`).then(res => res.data);\n\n  return {\n    type: REMOVE_WOOD,\n    payload: data\n  }\n}\n\nexport const addProduct = dataToSubmit => {\n  const data = axios.post(`${PRODUCT_SERVER}/item`,dataToSubmit).then(res => res.data);\n\n  return {\n    type: ADD_PRODUCT,\n    payload: data\n  }\n}\n\nexport const clearProduct = () => {\n\n  return {\n    type: CLEAR_PRODUCT\n  }\n}\n\nexport const addImage = file => {\n  let formData = new FormData();\n    const config = {\n      header: {'content-type': 'multipart/form-data'}\n    };\n    formData.append('file', file);\n\n  const data = axios.post(`${PRODUCT_SERVER}/upload_image`, formData, config).then(res => res.data);\n\n  return {\n    type: ADD_IMAGE,\n    payload: data\n  }\n}\n\nexport const clearImage = () => {\n\n  return {\n    type: CLEAR_IMAGE\n  }\n}\n\nexport const removeImage = imgId => {\n\n  const data = axios.get(`${PRODUCT_SERVER}/remove_image?public_id=${imgId}`).then(res => res.data);\n\n  return {\n    type: REMOVE_IMAGE,\n    payload: data\n  }\n}\n\nexport const getProductById = id => {\n   \n  const data = axios.get(`${PRODUCT_SERVER}/items_by_id?id=${id}&type=single`).then(res => res.data[0]);\n\n  return {\n    type: GET_PRODUCT_BY_ID,\n    payload: data\n  }\n}\n\nexport const clearProductDetail = () => {\n\n  return {\n    type: CLEAR_PRODUCT_DETAIL\n  }\n}\n\n"]},"metadata":{},"sourceType":"module"}