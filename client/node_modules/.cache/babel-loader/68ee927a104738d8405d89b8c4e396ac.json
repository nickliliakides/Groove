{"ast":null,"code":"import axios from 'axios';\nimport { LOGIN_USER, REGISTER_USER, AUTH_USER, LOGOUT_USER, ADD_TO_BASKET, REMOVE_FROM_BASKET, GET_BASKET_ITEMS } from './types.js';\nimport { USER_SERVER, PRODUCT_SERVER } from '../../utils/misc';\nexport const loginUser = dataToSubmit => {\n  const data = axios.post(\"\".concat(USER_SERVER, \"/login\"), dataToSubmit).then(res => res.data);\n  return {\n    type: LOGIN_USER,\n    payload: data\n  };\n};\nexport const registerUser = dataToSubmit => {\n  const data = axios.post(\"\".concat(USER_SERVER, \"/register\"), dataToSubmit).then(res => res.data);\n  return {\n    type: REGISTER_USER,\n    payload: data\n  };\n};\nexport const authUser = () => {\n  const data = axios.get(\"\".concat(USER_SERVER, \"/auth\")).then(res => res.data);\n  return {\n    type: AUTH_USER,\n    payload: data\n  };\n};\nexport const logoutUser = () => {\n  const data = axios.get(\"\".concat(USER_SERVER, \"/logout\")).then(res => res.data);\n  return {\n    type: LOGOUT_USER,\n    payload: data\n  };\n};\nexport const addToBasket = id => {\n  const data = axios.post(\"\".concat(USER_SERVER, \"/add_to_basket?productId=\").concat(id)).then(res => res.data);\n  return {\n    type: ADD_TO_BASKET,\n    payload: data\n  };\n};\nexport const removeFromBasket = id => {\n  const data = axios.get(\"\".concat(USER_SERVER, \"/remove_from_basket?productId=\").concat(id)).then(res => {\n    res.data.cart.forEach(item => {\n      res.data.cartData.forEach((d, i) => {\n        if (item.id === d._id) {\n          res.data[i].cartData.quantity = item.quantity;\n        }\n      });\n    });\n    return res.data;\n  });\n  return {\n    type: REMOVE_FROM_BASKET,\n    payload: data\n  };\n};\nexport const getBasketItems = (cartItems, userCart) => {\n  const data = axios.get(\"\".concat(PRODUCT_SERVER, \"/items_by_id?id=\").concat(cartItems, \"&type=array\")).then(res => {\n    userCart.forEach(item => {\n      res.data.forEach((d, i) => {\n        if (item.id === d._id) {\n          res.data[i].quantity = item.quantity;\n        }\n      });\n    });\n    return res.data;\n  });\n  return {\n    type: GET_BASKET_ITEMS,\n    payload: data\n  };\n};","map":{"version":3,"sources":["/Users/apple/Desktop/React/Groove/client/src/store/actions/userActions.js"],"names":["axios","LOGIN_USER","REGISTER_USER","AUTH_USER","LOGOUT_USER","ADD_TO_BASKET","REMOVE_FROM_BASKET","GET_BASKET_ITEMS","USER_SERVER","PRODUCT_SERVER","loginUser","dataToSubmit","data","post","then","res","type","payload","registerUser","authUser","get","logoutUser","addToBasket","id","removeFromBasket","cart","forEach","item","cartData","d","i","_id","quantity","getBasketItems","cartItems","userCart"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,UAAR,EAAoBC,aAApB,EAAmCC,SAAnC,EAA8CC,WAA9C,EAA2DC,aAA3D,EAA0EC,kBAA1E,EAA8FC,gBAA9F,QAAsH,YAAtH;AACA,SAASC,WAAT,EAAsBC,cAAtB,QAA4C,kBAA5C;AAEA,OAAO,MAAMC,SAAS,GAAIC,YAAD,IAAkB;AACzC,QAAMC,IAAI,GAAGZ,KAAK,CAACa,IAAN,WAAcL,WAAd,aAAmCG,YAAnC,EAAiDG,IAAjD,CAAsDC,GAAG,IAAIA,GAAG,CAACH,IAAjE,CAAb;AAEA,SAAO;AACLI,IAAAA,IAAI,EAAEf,UADD;AAELgB,IAAAA,OAAO,EAAEL;AAFJ,GAAP;AAID,CAPM;AASP,OAAO,MAAMM,YAAY,GAAIP,YAAD,IAAkB;AAC5C,QAAMC,IAAI,GAAGZ,KAAK,CAACa,IAAN,WAAcL,WAAd,gBAAsCG,YAAtC,EAAoDG,IAApD,CAAyDC,GAAG,IAAIA,GAAG,CAACH,IAApE,CAAb;AAEA,SAAO;AACLI,IAAAA,IAAI,EAAEd,aADD;AAELe,IAAAA,OAAO,EAAEL;AAFJ,GAAP;AAID,CAPM;AASP,OAAO,MAAMO,QAAQ,GAAG,MAAM;AAC5B,QAAMP,IAAI,GAAGZ,KAAK,CAACoB,GAAN,WAAaZ,WAAb,YAAiCM,IAAjC,CAAsCC,GAAG,IAAIA,GAAG,CAACH,IAAjD,CAAb;AAEA,SAAO;AACLI,IAAAA,IAAI,EAAEb,SADD;AAELc,IAAAA,OAAO,EAAEL;AAFJ,GAAP;AAID,CAPM;AASP,OAAO,MAAMS,UAAU,GAAG,MAAM;AAC9B,QAAMT,IAAI,GAAGZ,KAAK,CAACoB,GAAN,WAAaZ,WAAb,cAAmCM,IAAnC,CAAwCC,GAAG,IAAIA,GAAG,CAACH,IAAnD,CAAb;AAEA,SAAO;AACLI,IAAAA,IAAI,EAAEZ,WADD;AAELa,IAAAA,OAAO,EAAEL;AAFJ,GAAP;AAID,CAPM;AASP,OAAO,MAAMU,WAAW,GAAGC,EAAE,IAAI;AAC/B,QAAMX,IAAI,GAAGZ,KAAK,CAACa,IAAN,WAAcL,WAAd,sCAAqDe,EAArD,GAA2DT,IAA3D,CAAgEC,GAAG,IAAIA,GAAG,CAACH,IAA3E,CAAb;AAEA,SAAO;AACLI,IAAAA,IAAI,EAAEX,aADD;AAELY,IAAAA,OAAO,EAAEL;AAFJ,GAAP;AAID,CAPM;AASP,OAAO,MAAMY,gBAAgB,GAAGD,EAAE,IAAI;AACpC,QAAMX,IAAI,GAAGZ,KAAK,CAACoB,GAAN,WAAaZ,WAAb,2CAAyDe,EAAzD,GAA+DT,IAA/D,CAAoEC,GAAG,IAAI;AACtFA,IAAAA,GAAG,CAACH,IAAJ,CAASa,IAAT,CAAcC,OAAd,CAAsBC,IAAI,IAAI;AAC5BZ,MAAAA,GAAG,CAACH,IAAJ,CAASgB,QAAT,CAAkBF,OAAlB,CAA0B,CAACG,CAAD,EAAGC,CAAH,KAAS;AACjC,YAAGH,IAAI,CAACJ,EAAL,KAAYM,CAAC,CAACE,GAAjB,EAAqB;AACnBhB,UAAAA,GAAG,CAACH,IAAJ,CAASkB,CAAT,EAAYF,QAAZ,CAAqBI,QAArB,GAAgCL,IAAI,CAACK,QAArC;AACD;AACF,OAJD;AAKD,KAND;AAOA,WAAOjB,GAAG,CAACH,IAAX;AACD,GATY,CAAb;AAWA,SAAO;AACLI,IAAAA,IAAI,EAAEV,kBADD;AAELW,IAAAA,OAAO,EAAEL;AAFJ,GAAP;AAID,CAhBM;AAkBP,OAAO,MAAMqB,cAAc,GAAG,CAACC,SAAD,EAAYC,QAAZ,KAAyB;AACpD,QAAMvB,IAAI,GAAGZ,KAAK,CAACoB,GAAN,WAAaX,cAAb,6BAA8CyB,SAA9C,kBAAsEpB,IAAtE,CAA2EC,GAAG,IAAI;AAC7FoB,IAAAA,QAAQ,CAACT,OAAT,CAAiBC,IAAI,IAAI;AACvBZ,MAAAA,GAAG,CAACH,IAAJ,CAASc,OAAT,CAAiB,CAACG,CAAD,EAAGC,CAAH,KAAS;AACzB,YAAGH,IAAI,CAACJ,EAAL,KAAYM,CAAC,CAACE,GAAjB,EAAqB;AACnBhB,UAAAA,GAAG,CAACH,IAAJ,CAASkB,CAAT,EAAYE,QAAZ,GAAuBL,IAAI,CAACK,QAA5B;AACD;AACD,OAJD;AAKD,KAND;AAOA,WAAOjB,GAAG,CAACH,IAAX;AACD,GATY,CAAb;AAWD,SAAO;AACLI,IAAAA,IAAI,EAAET,gBADD;AAELU,IAAAA,OAAO,EAAEL;AAFJ,GAAP;AAID,CAhBM","sourcesContent":["import axios from 'axios';\nimport {LOGIN_USER, REGISTER_USER, AUTH_USER, LOGOUT_USER, ADD_TO_BASKET, REMOVE_FROM_BASKET, GET_BASKET_ITEMS } from './types.js'\nimport { USER_SERVER, PRODUCT_SERVER } from '../../utils/misc';\n\nexport const loginUser = (dataToSubmit) => {\n  const data = axios.post(`${USER_SERVER}/login`, dataToSubmit).then(res => res.data);\n\n  return {\n    type: LOGIN_USER,\n    payload: data\n  }\n}\n\nexport const registerUser = (dataToSubmit) => {\n  const data = axios.post(`${USER_SERVER}/register`, dataToSubmit).then(res => res.data);\n\n  return {\n    type: REGISTER_USER,\n    payload: data\n  }\n}\n\nexport const authUser = () => {\n  const data = axios.get(`${USER_SERVER}/auth`).then(res => res.data);\n\n  return {\n    type: AUTH_USER,\n    payload: data\n  }\n}\n\nexport const logoutUser = () => {\n  const data = axios.get(`${USER_SERVER}/logout`).then(res => res.data);\n\n  return {\n    type: LOGOUT_USER,\n    payload: data\n  }\n}\n\nexport const addToBasket = id => {\n  const data = axios.post(`${USER_SERVER}/add_to_basket?productId=${id}`).then(res => res.data);\n  \n  return {\n    type: ADD_TO_BASKET,\n    payload: data\n  }\n}\n\nexport const removeFromBasket = id => {\n  const data = axios.get(`${USER_SERVER}/remove_from_basket?productId=${id}`).then(res => {\n    res.data.cart.forEach(item => {\n      res.data.cartData.forEach((d,i) => {\n        if(item.id === d._id){\n          res.data[i].cartData.quantity = item.quantity\n        }\n      })\n    })\n    return res.data;\n  });\n\n  return {\n    type: REMOVE_FROM_BASKET,\n    payload: data\n  }\n}\n\nexport const getBasketItems = (cartItems, userCart) => {\n   const data = axios.get(`${PRODUCT_SERVER}/items_by_id?id=${cartItems}&type=array`).then(res => {\n     userCart.forEach(item => {\n       res.data.forEach((d,i) => {\n        if(item.id === d._id){\n          res.data[i].quantity = item.quantity\n        }\n       })\n     });\n     return res.data\n   });\n  \n  return {\n    type: GET_BASKET_ITEMS,\n    payload: data\n  }\n}"]},"metadata":{},"sourceType":"module"}