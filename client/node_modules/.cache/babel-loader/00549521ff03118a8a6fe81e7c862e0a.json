{"ast":null,"code":"import axios from \"axios\";\nimport { LOGIN_USER, REGISTER_USER, AUTH_USER, LOGOUT_USER, ADD_TO_BASKET, REMOVE_FROM_BASKET, GET_BASKET_ITEMS, ON_SUCCESS_PURCHASE, UPDATE_USER_DATA, CLEAR_USER_DATA } from \"./types.js\";\nimport { USER_SERVER, PRODUCT_SERVER } from \"../../utils/misc\";\nexport const loginUser = dataToSubmit => {\n  const data = axios.post(\"\".concat(USER_SERVER, \"/login\"), dataToSubmit).then(res => res.data);\n  return {\n    type: LOGIN_USER,\n    payload: data\n  };\n};\nexport const registerUser = dataToSubmit => {\n  const data = axios.post(\"\".concat(USER_SERVER, \"/register\"), dataToSubmit).then(res => res.data);\n  return {\n    type: REGISTER_USER,\n    payload: data\n  };\n};\nexport const authUser = () => {\n  const data = axios.get(\"\".concat(USER_SERVER, \"/auth\")).then(res => res.data);\n  return {\n    type: AUTH_USER,\n    payload: data\n  };\n};\nexport const logoutUser = () => {\n  const data = axios.get(\"\".concat(USER_SERVER, \"/logout\")).then(res => res.data);\n  return {\n    type: LOGOUT_USER,\n    payload: data\n  };\n};\nexport const addToBasket = id => {\n  const data = axios.post(\"\".concat(USER_SERVER, \"/add_to_basket?productId=\").concat(id)).then(res => res.data);\n  return {\n    type: ADD_TO_BASKET,\n    payload: data\n  };\n};\nexport const removeFromBasket = id => {\n  const data = axios.get(\"\".concat(USER_SERVER, \"/remove_from_basket?productId=\").concat(id)).then(res => {\n    res.data.cart.forEach(item => {\n      res.data.cartData.forEach((d, i) => {\n        if (item.id === d._id) {\n          res.data.cartData[i].quantity = item.quantity;\n        }\n      });\n    });\n    return res.data;\n  });\n  return {\n    type: REMOVE_FROM_BASKET,\n    payload: data\n  };\n};\nexport const getBasketItems = (cartItems, userCart) => {\n  const data = axios.get(\"\".concat(PRODUCT_SERVER, \"/items_by_id?id=\").concat(cartItems, \"&type=array\")).then(res => {\n    userCart.forEach(item => {\n      res.data.forEach((d, i) => {\n        if (item.id === d._id) {\n          res.data[i].quantity = item.quantity;\n        }\n      });\n    });\n    return res.data;\n  });\n  return {\n    type: GET_BASKET_ITEMS,\n    payload: data\n  };\n};\nexport const onSuccessPurchase = purchaseData => {\n  const data = axios.post(\"\".concat(USER_SERVER, \"/success_purchase\"), purchaseData).then(res => res.data);\n  return {\n    type: ON_SUCCESS_PURCHASE,\n    payload: data\n  };\n};\nexport const updateProfile = dataToSubmit => {\n  const data = axios.post(\"\".concat(USER_SERVER, \"/update_profile\"), dataToSubmit).then(res => res.data);\n  return {\n    type: UPDATE_USER_DATA,\n    payload: data\n  };\n};\nexport const clearUserData = () => {\n  return {\n    type: CLEAR_USER_DATA\n  };\n};","map":{"version":3,"sources":["/Users/apple/Desktop/React/Groove/client/src/store/actions/userActions.js"],"names":["axios","LOGIN_USER","REGISTER_USER","AUTH_USER","LOGOUT_USER","ADD_TO_BASKET","REMOVE_FROM_BASKET","GET_BASKET_ITEMS","ON_SUCCESS_PURCHASE","UPDATE_USER_DATA","CLEAR_USER_DATA","USER_SERVER","PRODUCT_SERVER","loginUser","dataToSubmit","data","post","then","res","type","payload","registerUser","authUser","get","logoutUser","addToBasket","id","removeFromBasket","cart","forEach","item","cartData","d","i","_id","quantity","getBasketItems","cartItems","userCart","onSuccessPurchase","purchaseData","updateProfile","clearUserData"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SACEC,UADF,EAEEC,aAFF,EAGEC,SAHF,EAIEC,WAJF,EAKEC,aALF,EAMEC,kBANF,EAOEC,gBAPF,EAQEC,mBARF,EASEC,gBATF,EAUEC,eAVF,QAWO,YAXP;AAYA,SAASC,WAAT,EAAsBC,cAAtB,QAA4C,kBAA5C;AAEA,OAAO,MAAMC,SAAS,GAAGC,YAAY,IAAI;AACvC,QAAMC,IAAI,GAAGf,KAAK,CACfgB,IADU,WACFL,WADE,aACmBG,YADnB,EAEVG,IAFU,CAELC,GAAG,IAAIA,GAAG,CAACH,IAFN,CAAb;AAIA,SAAO;AACLI,IAAAA,IAAI,EAAElB,UADD;AAELmB,IAAAA,OAAO,EAAEL;AAFJ,GAAP;AAID,CATM;AAWP,OAAO,MAAMM,YAAY,GAAGP,YAAY,IAAI;AAC1C,QAAMC,IAAI,GAAGf,KAAK,CACfgB,IADU,WACFL,WADE,gBACsBG,YADtB,EAEVG,IAFU,CAELC,GAAG,IAAIA,GAAG,CAACH,IAFN,CAAb;AAIA,SAAO;AACLI,IAAAA,IAAI,EAAEjB,aADD;AAELkB,IAAAA,OAAO,EAAEL;AAFJ,GAAP;AAID,CATM;AAWP,OAAO,MAAMO,QAAQ,GAAG,MAAM;AAC5B,QAAMP,IAAI,GAAGf,KAAK,CAACuB,GAAN,WAAaZ,WAAb,YAAiCM,IAAjC,CAAsCC,GAAG,IAAIA,GAAG,CAACH,IAAjD,CAAb;AAEA,SAAO;AACLI,IAAAA,IAAI,EAAEhB,SADD;AAELiB,IAAAA,OAAO,EAAEL;AAFJ,GAAP;AAID,CAPM;AASP,OAAO,MAAMS,UAAU,GAAG,MAAM;AAC9B,QAAMT,IAAI,GAAGf,KAAK,CAACuB,GAAN,WAAaZ,WAAb,cAAmCM,IAAnC,CAAwCC,GAAG,IAAIA,GAAG,CAACH,IAAnD,CAAb;AAEA,SAAO;AACLI,IAAAA,IAAI,EAAEf,WADD;AAELgB,IAAAA,OAAO,EAAEL;AAFJ,GAAP;AAID,CAPM;AASP,OAAO,MAAMU,WAAW,GAAGC,EAAE,IAAI;AAC/B,QAAMX,IAAI,GAAGf,KAAK,CACfgB,IADU,WACFL,WADE,sCACqCe,EADrC,GAEVT,IAFU,CAELC,GAAG,IAAIA,GAAG,CAACH,IAFN,CAAb;AAIA,SAAO;AACLI,IAAAA,IAAI,EAAEd,aADD;AAELe,IAAAA,OAAO,EAAEL;AAFJ,GAAP;AAID,CATM;AAWP,OAAO,MAAMY,gBAAgB,GAAGD,EAAE,IAAI;AACpC,QAAMX,IAAI,GAAGf,KAAK,CACfuB,GADU,WACHZ,WADG,2CACyCe,EADzC,GAEVT,IAFU,CAELC,GAAG,IAAI;AACXA,IAAAA,GAAG,CAACH,IAAJ,CAASa,IAAT,CAAcC,OAAd,CAAsBC,IAAI,IAAI;AAC5BZ,MAAAA,GAAG,CAACH,IAAJ,CAASgB,QAAT,CAAkBF,OAAlB,CAA0B,CAACG,CAAD,EAAIC,CAAJ,KAAU;AAClC,YAAIH,IAAI,CAACJ,EAAL,KAAYM,CAAC,CAACE,GAAlB,EAAuB;AACrBhB,UAAAA,GAAG,CAACH,IAAJ,CAASgB,QAAT,CAAkBE,CAAlB,EAAqBE,QAArB,GAAgCL,IAAI,CAACK,QAArC;AACD;AACF,OAJD;AAKD,KAND;AAOA,WAAOjB,GAAG,CAACH,IAAX;AACD,GAXU,CAAb;AAaA,SAAO;AACLI,IAAAA,IAAI,EAAEb,kBADD;AAELc,IAAAA,OAAO,EAAEL;AAFJ,GAAP;AAID,CAlBM;AAoBP,OAAO,MAAMqB,cAAc,GAAG,CAACC,SAAD,EAAYC,QAAZ,KAAyB;AACrD,QAAMvB,IAAI,GAAGf,KAAK,CACfuB,GADU,WACHX,cADG,6BAC8ByB,SAD9B,kBAEVpB,IAFU,CAELC,GAAG,IAAI;AACXoB,IAAAA,QAAQ,CAACT,OAAT,CAAiBC,IAAI,IAAI;AACvBZ,MAAAA,GAAG,CAACH,IAAJ,CAASc,OAAT,CAAiB,CAACG,CAAD,EAAIC,CAAJ,KAAU;AACzB,YAAIH,IAAI,CAACJ,EAAL,KAAYM,CAAC,CAACE,GAAlB,EAAuB;AACrBhB,UAAAA,GAAG,CAACH,IAAJ,CAASkB,CAAT,EAAYE,QAAZ,GAAuBL,IAAI,CAACK,QAA5B;AACD;AACF,OAJD;AAKD,KAND;AAOA,WAAOjB,GAAG,CAACH,IAAX;AACD,GAXU,CAAb;AAaA,SAAO;AACLI,IAAAA,IAAI,EAAEZ,gBADD;AAELa,IAAAA,OAAO,EAAEL;AAFJ,GAAP;AAID,CAlBM;AAoBP,OAAO,MAAMwB,iBAAiB,GAAGC,YAAY,IAAI;AAC/C,QAAMzB,IAAI,GAAGf,KAAK,CACfgB,IADU,WACFL,WADE,wBAC8B6B,YAD9B,EAEVvB,IAFU,CAELC,GAAG,IAAIA,GAAG,CAACH,IAFN,CAAb;AAIA,SAAO;AACLI,IAAAA,IAAI,EAAEX,mBADD;AAELY,IAAAA,OAAO,EAAEL;AAFJ,GAAP;AAID,CATM;AAWP,OAAO,MAAM0B,aAAa,GAAG3B,YAAY,IAAI;AAC3C,QAAMC,IAAI,GAAGf,KAAK,CACfgB,IADU,WACFL,WADE,sBAC4BG,YAD5B,EAEVG,IAFU,CAELC,GAAG,IAAIA,GAAG,CAACH,IAFN,CAAb;AAIA,SAAO;AACLI,IAAAA,IAAI,EAAEV,gBADD;AAELW,IAAAA,OAAO,EAAEL;AAFJ,GAAP;AAID,CATM;AAWP,OAAO,MAAM2B,aAAa,GAAG,MAAM;AACjC,SAAO;AACLvB,IAAAA,IAAI,EAAET;AADD,GAAP;AAGD,CAJM","sourcesContent":["import axios from \"axios\";\nimport {\n  LOGIN_USER,\n  REGISTER_USER,\n  AUTH_USER,\n  LOGOUT_USER,\n  ADD_TO_BASKET,\n  REMOVE_FROM_BASKET,\n  GET_BASKET_ITEMS,\n  ON_SUCCESS_PURCHASE,\n  UPDATE_USER_DATA,\n  CLEAR_USER_DATA\n} from \"./types.js\";\nimport { USER_SERVER, PRODUCT_SERVER } from \"../../utils/misc\";\n\nexport const loginUser = dataToSubmit => {\n  const data = axios\n    .post(`${USER_SERVER}/login`, dataToSubmit)\n    .then(res => res.data);\n\n  return {\n    type: LOGIN_USER,\n    payload: data\n  };\n};\n\nexport const registerUser = dataToSubmit => {\n  const data = axios\n    .post(`${USER_SERVER}/register`, dataToSubmit)\n    .then(res => res.data);\n\n  return {\n    type: REGISTER_USER,\n    payload: data\n  };\n};\n\nexport const authUser = () => {\n  const data = axios.get(`${USER_SERVER}/auth`).then(res => res.data);\n\n  return {\n    type: AUTH_USER,\n    payload: data\n  };\n};\n\nexport const logoutUser = () => {\n  const data = axios.get(`${USER_SERVER}/logout`).then(res => res.data);\n\n  return {\n    type: LOGOUT_USER,\n    payload: data\n  };\n};\n\nexport const addToBasket = id => {\n  const data = axios\n    .post(`${USER_SERVER}/add_to_basket?productId=${id}`)\n    .then(res => res.data);\n\n  return {\n    type: ADD_TO_BASKET,\n    payload: data\n  };\n};\n\nexport const removeFromBasket = id => {\n  const data = axios\n    .get(`${USER_SERVER}/remove_from_basket?productId=${id}`)\n    .then(res => {\n      res.data.cart.forEach(item => {\n        res.data.cartData.forEach((d, i) => {\n          if (item.id === d._id) {\n            res.data.cartData[i].quantity = item.quantity;\n          }\n        });\n      });\n      return res.data;\n    });\n\n  return {\n    type: REMOVE_FROM_BASKET,\n    payload: data\n  };\n};\n\nexport const getBasketItems = (cartItems, userCart) => {\n  const data = axios\n    .get(`${PRODUCT_SERVER}/items_by_id?id=${cartItems}&type=array`)\n    .then(res => {\n      userCart.forEach(item => {\n        res.data.forEach((d, i) => {\n          if (item.id === d._id) {\n            res.data[i].quantity = item.quantity;\n          }\n        });\n      });\n      return res.data;\n    });\n\n  return {\n    type: GET_BASKET_ITEMS,\n    payload: data\n  };\n};\n\nexport const onSuccessPurchase = purchaseData => {\n  const data = axios\n    .post(`${USER_SERVER}/success_purchase`, purchaseData)\n    .then(res => res.data);\n\n  return {\n    type: ON_SUCCESS_PURCHASE,\n    payload: data\n  };\n};\n\nexport const updateProfile = dataToSubmit => {\n  const data = axios\n    .post(`${USER_SERVER}/update_profile`, dataToSubmit)\n    .then(res => res.data);\n\n  return {\n    type: UPDATE_USER_DATA,\n    payload: data\n  };\n}\n\nexport const clearUserData = () => {\n  return {\n    type: CLEAR_USER_DATA\n  }\n}\n"]},"metadata":{},"sourceType":"module"}