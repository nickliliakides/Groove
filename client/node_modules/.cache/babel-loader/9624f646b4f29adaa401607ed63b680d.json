{"ast":null,"code":"import _slicedToArray from \"/Users/apple/Desktop/React/Groove/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/apple/Desktop/React/Groove/client/src/components/Header_Footer/Header/index.jsx\";\nimport React, { useState } from 'react';\nimport { connect } from 'react-redux';\nimport { Link, withRouter } from 'react-router-dom';\nimport { logoutUser } from '../../../store/actions/userActions';\n\nconst Header = props => {\n  const _useState = useState({\n    page: [{\n      name: 'Home',\n      linkTo: '/',\n      public: true\n    }, {\n      name: 'Shop',\n      linkTo: '/shop',\n      public: true\n    }],\n    user: [{\n      name: 'My Basket',\n      linkTo: '/user/cart',\n      public: false\n    }, {\n      name: 'My Account',\n      linkTo: '/user/dashboard',\n      public: false\n    }, {\n      name: 'Log in',\n      linkTo: '/register_login',\n      public: true\n    }, {\n      name: 'Log out',\n      linkTo: '/user/logout',\n      public: false\n    }]\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        state = _useState2[0],\n        setState = _useState2[1];\n\n  const userData = props.user.userData,\n        history = props.history;\n\n  const logoutHandler = () => {\n    props.dispatch(logoutUser()).then(res => {\n      if (res.payload.logoutSuccess) {\n        history.push('/');\n      }\n    });\n  };\n\n  const defaultLink = (item, i) => item.name === 'Log out' ? React.createElement(\"div\", {\n    className: \"log_out_link\",\n    key: i,\n    onClick: () => logoutHandler(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, item.name) : React.createElement(Link, {\n    to: item.linkTo,\n    key: i,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, item.name);\n\n  const cartLink = (item, i) => {\n    return React.createElement(\"div\", {\n      key: i,\n      className: \"cart_link\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, userData.cart ? userData.cart.length : 0), React.createElement(Link, {\n      to: item.linkTo,\n      key: i,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, item.name));\n  };\n\n  const showLinks = type => {\n    let list = [];\n\n    if (userData) {\n      type.forEach(item => {\n        if (!userData.isAuth) {\n          if (item.public === true) {\n            list.push(item);\n          }\n        } else {\n          if (item.name !== 'Log in') {\n            list.push(item);\n          }\n        }\n      });\n    }\n\n    return list.map((item, i) => {\n      if (item.name !== 'My Cart') {\n        return defaultLink(item, i);\n      } else {\n        return cartLink(item, i);\n      }\n    });\n  };\n\n  return React.createElement(\"header\", {\n    className: \"bck_b_light\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"logo\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, \"GROOVE\")), React.createElement(\"div\", {\n    className: \"right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"top\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, showLinks(state.user)), React.createElement(\"div\", {\n    className: \"bottom\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, showLinks(state.page)))));\n};\n\nconst mapStateToProps = state => {\n  return {\n    user: state.user\n  };\n};\n\nexport default connect(mapStateToProps)(withRouter(Header));","map":{"version":3,"sources":["/Users/apple/Desktop/React/Groove/client/src/components/Header_Footer/Header/index.jsx"],"names":["React","useState","connect","Link","withRouter","logoutUser","Header","props","page","name","linkTo","public","user","state","setState","userData","history","logoutHandler","dispatch","then","res","payload","logoutSuccess","push","defaultLink","item","i","cartLink","cart","length","showLinks","type","list","forEach","isAuth","map","mapStateToProps"],"mappings":";;AAAA,OAAOA,KAAP,IAAcC,QAAd,QAA6B,OAA7B;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,SAASC,IAAT,EAAeC,UAAf,QAAiC,kBAAjC;AACA,SAASC,UAAT,QAA2B,oCAA3B;;AAEA,MAAMC,MAAM,GAAIC,KAAD,IAAW;AAAA,oBACEN,QAAQ,CAAC;AACjCO,IAAAA,IAAI,EAAC,CACH;AACEC,MAAAA,IAAI,EAAC,MADP;AAEEC,MAAAA,MAAM,EAAC,GAFT;AAGEC,MAAAA,MAAM,EAAC;AAHT,KADG,EAMH;AACEF,MAAAA,IAAI,EAAC,MADP;AAEEC,MAAAA,MAAM,EAAC,OAFT;AAGEC,MAAAA,MAAM,EAAC;AAHT,KANG,CAD4B;AAajCC,IAAAA,IAAI,EAAE,CACJ;AACEH,MAAAA,IAAI,EAAC,WADP;AAEEC,MAAAA,MAAM,EAAC,YAFT;AAGEC,MAAAA,MAAM,EAAC;AAHT,KADI,EAMJ;AACEF,MAAAA,IAAI,EAAC,YADP;AAEEC,MAAAA,MAAM,EAAC,iBAFT;AAGEC,MAAAA,MAAM,EAAC;AAHT,KANI,EAWJ;AACEF,MAAAA,IAAI,EAAC,QADP;AAEEC,MAAAA,MAAM,EAAC,iBAFT;AAGEC,MAAAA,MAAM,EAAC;AAHT,KAXI,EAgBJ;AACEF,MAAAA,IAAI,EAAC,SADP;AAEEC,MAAAA,MAAM,EAAC,cAFT;AAGEC,MAAAA,MAAM,EAAC;AAHT,KAhBI;AAb2B,GAAD,CADV;AAAA;AAAA,QACjBE,KADiB;AAAA,QACVC,QADU;;AAAA,QAsCTC,QAtCS,GAsCcR,KAtCd,CAsChBK,IAtCgB,CAsCTG,QAtCS;AAAA,QAsCEC,OAtCF,GAsCcT,KAtCd,CAsCES,OAtCF;;AAwCxB,QAAMC,aAAa,GAAG,MAAM;AAC1BV,IAAAA,KAAK,CAACW,QAAN,CAAeb,UAAU,EAAzB,EAA6Bc,IAA7B,CAAkCC,GAAG,IAAI;AACvC,UAAGA,GAAG,CAACC,OAAJ,CAAYC,aAAf,EAA6B;AAC3BN,QAAAA,OAAO,CAACO,IAAR,CAAa,GAAb;AACD;AACF,KAJD;AAKD,GAND;;AAQA,QAAMC,WAAW,GAAG,CAACC,IAAD,EAAOC,CAAP,KAClBD,IAAI,CAAChB,IAAL,KAAc,SAAd,GACE;AAAK,IAAA,SAAS,EAAC,cAAf;AACC,IAAA,GAAG,EAAEiB,CADN;AAEC,IAAA,OAAO,EAAE,MAAMT,aAAa,EAF7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIGQ,IAAI,CAAChB,IAJR,CADF,GAQA,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAEgB,IAAI,CAACf,MAAf;AAAuB,IAAA,GAAG,EAAEgB,CAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGD,IAAI,CAAChB,IADR,CATF;;AAcA,QAAMkB,QAAQ,GAAG,CAACF,IAAD,EAAOC,CAAP,KAAa;AAE5B,WACE;AAAK,MAAA,GAAG,EAAEA,CAAV;AAAa,MAAA,SAAS,EAAC,WAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAOX,QAAQ,CAACa,IAAT,GAAgBb,QAAQ,CAACa,IAAT,CAAcC,MAA9B,GAAuC,CAA9C,CADF,EAEE,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAEJ,IAAI,CAACf,MAAf;AAAuB,MAAA,GAAG,EAAEgB,CAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGD,IAAI,CAAChB,IADR,CAFF,CADF;AAQD,GAVD;;AAYA,QAAMqB,SAAS,GAAGC,IAAI,IAAI;AACxB,QAAIC,IAAI,GAAG,EAAX;;AAEA,QAAGjB,QAAH,EAAY;AACVgB,MAAAA,IAAI,CAACE,OAAL,CAAaR,IAAI,IAAI;AACnB,YAAG,CAACV,QAAQ,CAACmB,MAAb,EAAoB;AAClB,cAAGT,IAAI,CAACd,MAAL,KAAgB,IAAnB,EAAwB;AACtBqB,YAAAA,IAAI,CAACT,IAAL,CAAUE,IAAV;AACD;AACF,SAJD,MAIO;AACL,cAAGA,IAAI,CAAChB,IAAL,KAAc,QAAjB,EAA0B;AACxBuB,YAAAA,IAAI,CAACT,IAAL,CAAUE,IAAV;AACD;AACF;AACF,OAVD;AAWD;;AAED,WAAOO,IAAI,CAACG,GAAL,CAAS,CAACV,IAAD,EAAOC,CAAP,KAAa;AAC3B,UAAGD,IAAI,CAAChB,IAAL,KAAc,SAAjB,EAA2B;AACzB,eAAOe,WAAW,CAACC,IAAD,EAAOC,CAAP,CAAlB;AACD,OAFD,MAEO;AACL,eAAOC,QAAQ,CAACF,IAAD,EAAOC,CAAP,CAAf;AACD;AAEF,KAPM,CAAP;AAQD,GAzBD;;AA2BA,SACE;AAAQ,IAAA,SAAS,EAAC,aAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,CADF,EAME;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACCI,SAAS,CAACjB,KAAK,CAACD,IAAP,CADV,CADF,EAIE;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGkB,SAAS,CAACjB,KAAK,CAACL,IAAP,CADZ,CAJF,CANF,CADF,CADF;AAmBD,CAxHD;;AA0HA,MAAM4B,eAAe,GAAGvB,KAAK,IAAI;AAC/B,SAAM;AACJD,IAAAA,IAAI,EAAEC,KAAK,CAACD;AADR,GAAN;AAGD,CAJD;;AAMA,eAAeV,OAAO,CAACkC,eAAD,CAAP,CAAyBhC,UAAU,CAACE,MAAD,CAAnC,CAAf","sourcesContent":["import React,{useState} from 'react'\nimport {connect} from 'react-redux'\nimport { Link, withRouter } from 'react-router-dom';\nimport { logoutUser } from '../../../store/actions/userActions';\n\nconst Header = (props) => {\n  const [state, setState] = useState({\n    page:[\n      {\n        name:'Home',\n        linkTo:'/',\n        public:true\n      },\n      {\n        name:'Shop',\n        linkTo:'/shop',\n        public:true\n      }\n    ],\n    user: [\n      {\n        name:'My Basket',\n        linkTo:'/user/cart',\n        public:false\n      },\n      {\n        name:'My Account',\n        linkTo:'/user/dashboard',\n        public:false\n      },\n      {\n        name:'Log in',\n        linkTo:'/register_login',\n        public:true\n      },\n      {\n        name:'Log out',\n        linkTo:'/user/logout',\n        public:false\n      }\n    ]\n  })\n\n  const { user: {userData}, history } = props\n\n  const logoutHandler = () => {\n    props.dispatch(logoutUser()).then(res => {\n      if(res.payload.logoutSuccess){\n        history.push('/')\n      }\n    })\n  }\n\n  const defaultLink = (item, i) => (\n    item.name === 'Log out' ? \n      <div className=\"log_out_link\"\n       key={i}\n       onClick={() => logoutHandler()}\n      >   \n        {item.name}\n      </div>\n    :\n    <Link to={item.linkTo} key={i}>\n      {item.name}\n    </Link>\n  )\n\n  const cartLink = (item, i) => {\n\n    return(\n      <div key={i} className=\"cart_link\">\n        <span>{userData.cart ? userData.cart.length : 0}</span>\n        <Link to={item.linkTo} key={i}>\n          {item.name}\n        </Link>\n      </div>\n    )\n  }\n\n  const showLinks = type => {\n    let list = [];\n\n    if(userData){\n      type.forEach(item => {\n        if(!userData.isAuth){\n          if(item.public === true){\n            list.push(item)\n          }\n        } else {\n          if(item.name !== 'Log in'){\n            list.push(item)\n          }\n        }\n      })\n    }\n\n    return list.map((item, i) => {\n      if(item.name !== 'My Cart'){\n        return defaultLink(item, i)\n      } else {\n        return cartLink(item, i)\n      }\n      \n    })\n  }\n\n  return (\n    <header className=\"bck_b_light\">\n      <div className=\"container\">\n        <div className=\"left\">\n          <div className=\"logo\">\n            GROOVE\n          </div>\n        </div>\n        <div className=\"right\">\n          <div className=\"top\">\n          {showLinks(state.user)}\n          </div>\n          <div className=\"bottom\">\n            {showLinks(state.page)}\n          </div>\n        </div>\n      </div>\n    </header>\n  )\n}\n\nconst mapStateToProps = state => {\n  return{\n    user: state.user\n  }\n}\n\nexport default connect(mapStateToProps)(withRouter(Header))\n"]},"metadata":{},"sourceType":"module"}